<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Topic Model Browser</title>
  <script type="text/javascript" src="lib/d3.min.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/bootstrap.min.css" media="screen">

  <link rel="stylesheet" href="css/index.css" type="text/css"> 
</head>

<body>
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand model_title" href="#"></a>
    </div>
    <div class="collapse navbar-collapse">
      <ul id="nav_main" class="nav navbar-nav">
        <li id="nav_model"><a href="#">Overview</a></li>
        <li id="nav_topic" class="dropdown">
          <a href="#/topic" class="dropdown-toggle" data-toggle="dropdown" data-target="#" id="topic_dropdown_toggle">
            Topic<b class="caret"></b>
          </a>
          <ul id="topic_dropdown" class="dropdown-menu scroll-menu" role="menu" aria-labelledby="topic_dropdown_toggle">
            <li class="disabled"><a href="#/topic">Loading topics...</a></li>
          </ul>
        </li>
        <li id="nav_doc"><a href="#/doc">Document</a></li>
        <li id="nav_word"><a href="#/word">Word</a></li>
        <li id="nav_bib"><a href="#/bib">Bibliography</a></li>
        <li id="nav_words"><a href="#/words">All words</a></li>
        <li id="nav_about"><a href="#/about">About</a></li>
      </ul>
    </div><!--/.navbar-collapse -->
  </div>
</div>

<div id="main_container" class="container">

  <div id="loading" class="well">
    <p>Loading...</p>
  </div>

  <div id="error" class="hidden">
  </div>

  <div id="model_view" class="hidden">
    <nav class="nav navbar-default" role="navigation">
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul id="nav_model" class="nav navbar-nav nav-pills">
          <li id="nav_model_grid" class="active">
            <a href="#/model/grid">Grid</a>
          </li>
          <li id="nav_model_scaled">
            <a href="#/model/scaled">Scaled</a>
          </li>
          <li id="nav_model_list">
            <a href="#/model/list">List</a>
          </li>
          <li id="nav_model_yearly">
            <a href="#/model/yearly">Years</a>
          </li>
        </ul>
        <div class="navbar-right">
          <p id="model_view_help"
          class="navbar-text help model_view_plot model_view_yearly hidden">
          scroll to zoom; shift-drag to pan; click for more about a topic</p>
          <p id="list_view_help"
          class="navbar-text help model_view_list hidden">
          click a column label to sort; click a row for more about a topic</p>
          <p id="yearly_view_help" class="navbar-text help model_view_yearly">
            y-axis:
          </p>
          <ul id="yearly_choice"
            class="nav navbar-nav nav-pills model_view_yearly hidden">
            <li id="nav_model_yearly_frac" class="active">
              <a href="#/model/yearly/frac">yearly %</a>
            </li>
            <li id="nav_model_yearly_raw">
              <a href="#/model/yearly/raw">word counts</a>
            </li>
          </ul>
          <button id="reset_zoom" type="button"
            class="btn btn-default navbar-btn model_view_plot model_view_yearly hidden">
            Reset zoom
          </button>
        </div>
      </div>
    </nav>
    <div id="model_view_list" class="hidden">
      <table class="table table-condensed">
        <thead>
          <tr class="info">
            <th id="model_view_list_topic" class="sort">
              <a href="#/model/list/topic" title="click to sort">
                topic
              </a><span class="glyphicon glyphicon-sort"></span>
            </th>
            <th id="model_view_list_year" class="sort">
              <a href="#/model/list/year" title="click to sort by max year">
              over time
              </a><span class="glyphicon glyphicon-sort"></span>
            </th>
            <th id="model_view_list_words" class="sort">
              <a href="#/model/list/words" title="click to sort">
                top words
              </a><span class="glyphicon glyphicon-sort"></span>
            </th>
            <th colspan="2" id="model_view_list_frac" class="sort text-right">
              <a href="#/model/list/frac" title="click to sort">
                proportion of corpus
              </a><span class="glyphicon glyphicon-sort"></span>
            </th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="model_view_plot" class="hidden">
    </div>
    <div id="model_view_yearly" class="hidden">
    </div>
  </div>

  <div id="about_view" class="hidden">
    <h2>The <em>Signs</em> 40th Anniversary Issue</h2>
      <p>This site is the joint work of Susana Galán, Lindsey Whitmore, Andrew Mazzaschi, and Andrew Goldstone. This is a project of the journal <em>Signs: Women in Culture and Society.</em></p>
  
  <!-- insert AG's "What is a topic model?" text here -->
      
      <h3>How to read this browser</h3>
      <p>This browser serves as one way of visualizing the topic model of the <em>Signs</em> archive (though not all of the data comprising the model is visible here). It presents multiple ways of viewing topics and thus gives users multiple vantage points that allow them to see topics over time, the articles that are most strongly associated with particular topics, the multiple topics contained in each article, and the words that contribute most significantly to each topic.</p>
      <p>This visualization puts the moving pieces of a model into the visual field: topics, documents, words, and document metadata (i.e., title, author, date of publication, volume and issue number). This is but one way of viewing a topic model (which is in turn but one way of analyzing a large corpus), but it may provide a useful entree through which to (re)discover aspects of the <em>Signs</em> archive and to spark new questions and open up new channels of interpretation. </p>
      
      <h4>Overview page</h4>
      <p>In the <a href="#">overview</a>, topics are represented by their most frequent words. Remember that these lists of words as a collection constitute a single "topic"; they are the words that tend to co-occur when a particular subject is being discussed or when a particular analytical frame is being employed. There are four ways of viewing the overview. In any of them, click a topic to examine that topic in more depth. </p>
      <p><em>(NB: In a future iteration of this project, we hope to hand label topics--that is, to give them shorthand names. For instance, <a href="#/topic/50">topic 50</a>, whose top words are "freud psychoanalytic theory psychoanalysis mother," could be referred to simply as </em>psychoanalysis<em> rather than </em>topic 50<em>.) </em></p>
      <ul>
        <li>
          <h5>List subview</h5>
          <p>In the <a href="#/model/list">list view</a>, the topics appear in a table. The ordering of topics and the numbers assigned to them are arbitrary. <em>(As mentioned above, we hope to replace these numbers with shorthand labels in the near future.)</em> To help compare topics, the table can be sorted in several ways by clicking the table's column headers. </p>
          <p>The column to the right of the topic numbers shows a miniature graph of the topic over time (visible more fully on the specific pages for each topic; see below). This gives a rough sense of the distribution of the topic over the forty years of the <em>Signs</em> archive. Click the column's header ("1975-2013") to sort by the year in which the topic attains its maximum proportion within the overall corpus. (Note that the y-axes of these miniature bar charts are not all on the same scale.) <a href="#/model/list/year/up">Sorting chronologically</a> in this manner may be of particular interest since it may point to topics that have strong trends over time.</p>
          <p>Click the "top words" header to see <a href="#/model/list/words">the list sorted alphabetically by most frequent words</a>. On the far right is the proportion of all the words in the corpus assigned to the given topic, visualized by the length of the blue bars. <a href="#/model/list/frac">Sorting by corpus proportion</a> moves topics that are assigned to a high proportion of the overall corpus to the top. This view can be deceptive in the sense that the highest-proportion topics are often the <em>least</em> interesting parts of the model—agglomerations of very common words without a clear thematic content.</p> <!-- should change/delete previous sentence if topics 31, 59, 37, and/or 54 are suppressed -->
        </li>
        <li>
          <h5>Grid subview</h5>
          <p>In the <a href="#/model/grid">grid view</a>, the topics are arranged in arbitrary order in a grid. Topics are represented by the six top words from the topic enclosed in a circle. The relative size of the words in the circle reflects a word's weight in a topic.</p>
        </li>
        <li>
          <h5>Scaled subview</h5>
          <p>In the <a href="#/model/scaled">scaled view</a>, topics are placed close to one another if they are similar in the sense of having similar distributions of frequent words. To see overlapping topics more clearly, hover the mouse over a topic or use the mouse to pan or zoom. 
        </li>
        
        <li>
          <h5>Yearly subview</h5>
          <p><a href="#/model/yearly">The yearly view</a> visualizes each topic's prominence over time through a streamgraph. The height of each topic's stream shows the proportion of the topic in a given year. Colors are used to distinguish topics from one another (colors are not, however, unique to each topic; they repeat after twenty colors). Here, the topics are reordered by a heuristic for making the visualization less jagged, and the topics are designated by their numbers and top words. Clicking on any of the individual streams takes you to the topic's more detailed page.</p>
          <p>"Islands" of prominence sometimes indicate special issues of <em>Signs</em> devoted to a particular topic. For example, the sudden spread of the bottom stream (the stream for topic 38) in the lower righthand corner of the graph represents the 2013 special issue on prisons. Topics with other unusual patterns over the time are also visible in this view. To take exploration a little further, it is possible to pan and zoom the view (using the mouse to scroll or holding down shift while dragging).</p>
          <p>By default the yearly subview is displayed using <em>percentages of the year's words</em> accounted for by a topic. But it can also be shifted to display <a href="#/model/yearly/raw">raw counts of words assigned to topics</a> per year, since not all years contain the same number of words.</p>
        </li>
      </ul>
      
      <h4>Topic pages</h4> <!-- I thought that referring to "topic pages" rather than "The topic view" is more accessible for some reason, but I could easily be convinced otherwise -->
      <p>Each topic's page gives a fuller sense of the makeup of that topic. The lefthand column shows the topic as a distribution of words, with each word's weight within the topic indicated by a blue bar. Clicking on any of the individual words in this column will take you to a list of all of the topics in which that word appears (see below for more on the word view). For example, if you are viewing <a href="#/topic/50">topic 50</a>, which concerns psychoanalysis, clicking "<a href="#/word/freud">freud</a>" will take you to a page listing only topic 50 itself, since this is the only topic in which "freud" is a prominent term. Clicking on "<a href="#/word/theory">theory</a>" or "<a href="#/word/mother">mother</a>," however, will take you to a page displaying the multiple topics in which those words are prominent.<!-- should all discussion of words be saved for Word View section? --></p>
      <p> The topic page also contains a list of the "Top documents" for the topic. This displays the documents that contain the highest proportion of the topic. For instance, for <a href="#/topic/2">topic 2</a>, which pertains to sexuality, <!-- insert label we actually give it -->Annamarie Jagose's "'Critical Extasy': Orgasm and Sensibility in <em>Memoirs of a Woman of Pleasure</em>" (vol. 32, no. 2) is listed first because the model estimates that 34.4 percent of that article is a discussion of this topic (or, more precisely, it has assigned 34.4 percent of the words in Jagose's article to this topic). However, pay attention to the absolute weights (the raw number of words in the article assigned to the topic)--a very small weight with a large proportion usually indicates a very brief article. Remember also that the document with the largest proportion of a particular topic may nonetheless have an even larger proportion of another topic.</p><!-- if short articles are penalized we'll need to revise above -->
      <p>On the upper right is the time-series. This gives a sense of the topic's prominence over time. The y-axis is the yearly proportion of words in the corpus belonging to the topic; that is, out of all the words published in <em>Signs</em> in a given year, the percentage devoted to the particular topic. The bars emphasize that the model does not assume a smooth evolution from year to year in topics, and neither should we, but it is still possible to see trends over time. For instance, <a href="#/topic/39">topic 39</a>, which deals with globalization, is clearly a topic whose prominence is relatively recent. However, it is not wholly absent in the early years of <em>Signs</em>, either. To focus on prominent documents in the topic <em>for a given year only</em>, click a year's bar on the chart. Thus, to see which are the top documents for topic 39 in 1984, <a href="#/topic/39/1984">click that year on the chart.</a></p>
      
      <h4>Document view</h4>
      <p>The document view simply represents the estimated proportions of the various topics in a given document. For instance, in the document view for Maxine Baca Zinn's "<a href="#/doc/1428">Family, Race, and Poverty in the Eighties</a>," one can see that the model assigns 31.4 percent of the article to topic 41 (which deals with welfare and poverty) and 16.7 percent to the topic 26 (which contains terms related to quantitative analysis), along with various other topics. This view also offers a link to the document on JSTOR itself. (These links are via <a href="http://dx.doi.org">dx.doi.org</a> using the doi supplied by JSTOR's Data for Research service in its metadata; unfortunately these links do not always resolve correctly, a problem that we are working on correcting.)</p>
      
      <h4>Word view</h4>
      <p>The word view allows users to see all the topics in which a particular word appears. In the <a href="#/word">word view</a>, users can search for a particular word using the text box in the upper righthand corner. This view is also reached by clicking on a word from a topic on that topic's page or by selecting a word from the <a href="#/words">list of all words</a>. This view reminds us that the topic model tends to divide occurrences of each word among multiple topics (for example, <a href="/#/word/difference"><em>difference</em></a>).  It lists the topics in which a word is highly ranked, as well as the word&rsquo;s rank within that topic. </p>
      
      <h4>All-words view</h4>
      <p>The <a href="#/words">all-words view</a> is a list of the vocabulary of prominent words from all topics. Each word links back to the word view. It is not identical with the vocabulary of the topic model, since any word that is not among the top key words supplied to the browser will not be listed. <!-- AG: are "key words" words in the top 50 for all topics? --></p>
      
      <h4>Bibliography view</h4>
      <p><a href="#/bib">This view</a> lists the citations for all the articles included in the model. Because there are over 1,800 documents, the list can be "faceted" in several ways: documents are sorted under headings (letters of the alphabet, years, or decades), <!-- need to get rid of option to sort by journal, then by contents? -->and you can collapse and expand the panel of document listings under each panel. Use the &ldquo;collapse all&rdquo; button to produce a more tractable display if you know what heading you&rsquo;re interested in; or, if you&rsquo;d like to search on the page, be sure to &ldquo;expand all&rdquo; the panels first so that the browser can see all the citations in the text. The menu gives a few sorting options, of which <a href="#/bib/year/author">year/author</a> and <a href="#/bib/year/journal">year/journal contents</a> are probably most useful.</p> <!-- Should link in above section to wherever we explain which docs were excluded and why? -->
      
      
      
      <div id="about_browser">
        <p>Software based on <a class="external" href="http://agoldst.github.io/dfr-browser/">dfr-browser</a> by Andrew Goldstone. Made using <a class="external" href="http://d3js.org">d3.js</a> and <a class="external" href="http://getbootstrap.com/">Bootstrap</a>. Zip support using <a class="external" href="http://stuk.github.io/jszip/">JSZip</a>.</p>
      </div>
  </div>

  <div id="topic_view" class="hidden">
    <div id="topic_view_help">
      <p class="help">Select a topic from the "Topic" menu above.</p>
    </div>
    <div id="topic_view_main">
      <h2 class="h-small" id="topic_header"></h2>
      <p id="topic_remark"></p>
      <div class="row">
        <div id="topic_words" class="col-md-3">
          <h3 class="h-small">Top words</h3>
          <div class="btn-group btn-group-xs">
            <button id="topic_words_up" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-up"></span> show fewer</button>
            <button id="topic_words_down" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-down"></span> show more</button>
          </div>
          <table class="table table-condensed" id="topic_words">
            <thead>
              <tr>
                <th>Word</th>
                <th class="th-right">Weight</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
        <div class="col-md-9">
          <div id="topic_plot">
            <h3 class="h-small">Yearly proportion of words in topic</h3>
            <p class="pull-left help">
              Click a bar to limit documents to that year
            </p>
            <div class="pull-right">
              <button class="btn btn-default disabled" type="button"
                id="topic_year_clear">clear selected year</button>
            </div>
          </div>
          <h3 id="topic_docs_header" class="h-small">Documents with largest proportion</h3>
          <div class="btn-group btn-group-xs">
            <button id="topic_docs_up" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-up"></span> show fewer</button>
            <button id="topic_docs_down" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-down"></span> show more</button>
          </div>
          <table class="table table-condensed" id="topic_docs">
            <thead>
              <tr>
                <th>Document</th>
                <th></th>
                <th class="th-right">%</th>
                <th class="th-right">Weight</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
    </div> <!-- #topic_view_main -->
  </div>

  <div id="doc_view" class="hidden">
    <div id="doc_view_help">
      <p class="help">Choose a specific document to view from 
      <a class="external" href="#/bib">the bibliography</a> or from
        <a class="external" href="#/topic">a topic page</a>.</p>
      <p class="help hidden" id="last_doc_help">Below: the last-viewed document. Stable link to this view: <a class="external" id="last_doc" href="#/doc"></a></p>
    </div>
    <div id="doc_view_main">
      <h2 class="h-small" id="doc_header"></h2>
      <p id="doc_remark"></p>
      <div class="btn-group btn-group-xs">
        <button id="doc_topics_up" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-up"></span> show fewer</button>
        <button id="doc_topics_down" class="btn btn-default" type="button"><span class="glyphicon glyphicon-chevron-down"></span> show more</button>
      </div>
      <table class="table table-condensed" id="doc_topics">
        <thead>
          <tr>
            <th class="wide">Topic</th>
            <th></th>
            <th class="th-right">%</th>
            <th class="th-right">Tokens</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div><!-- #doc_view_main -->
  </div>

  <div id="word_view" class="hidden">
    <div class="row">
      <div class="col-md-8">
        <div id="word_view_help">
          <p class="help">Choose a specific word to view from 
          <a class="external" href="#/words">the list of all words</a> or from
            <a class="external" href="#/topic">a topic page</a>.</p>
          <p class="help hidden" id="last_word_help">Below: the last-viewed word. Stable link to this view: <a class="external" id="last_word" href="#/word"></a></p>
        </div>
      </div>
      <div class="col-md-4">
        <form id="word_view_form" class="form-inline pull-right" role="form">
          <div class="form-group">
            <label class="sr-only" for="word_input">Choose a word:</label>
            <input type="text" class="form-control" id="word_input" placeholder="Enter a word">
          </div>
          <button type="submit" class="btn btn-default">List topics</button>
        </form>
      </div>
    </div>
    <div id="word_view_main" class="hidden">
      <h2 id="word_header"></h2>
      <div id="word_no_topics" class="alert alert-info hidden">
        <p>There are no topics in which this word is prominent.</p>
      </div>
      <table class="table table-condensed" id="word_topics">
        <thead>
          <tr>
            <th>Rank</th>
            <th class="wide">Topic</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
  </div>

  <div id="bib_view" class="hidden">
    <nav id="bib_nav" class="nav navbar-default" role="navigation">
      <div class="container">
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <form id="bib_sort_form" class="navbar-form navbar-left">
            <div class="form-group">
              <select class="form-control" id="select_bib_sort">
                <option id="sort_year_alpha" value="year_alpha">
                  by year, then by author
                </option> 
                <option id="sort_year_journal" value="year_journal">
                  by year, then by journal contents
                </option>
                <option id="sort_decade_date" value="decade_date">
                  chronologically by decades
                </option>
                <option id="sort_decade_alpha" value="decade_alpha">
                  by decades, then by author
                </option>
                <option id="sort_alpha_alpha" value="alpha_alpha">
                  alphabetically by author
                </option>
                <option id="sort_journal_journal" value="journal_journal">
                  by journal, then by journal contents
                </option>
              </select>
            </div>
          </form>
          <button id="bib_sort_dir"
            class="btn btn-default navbar-btn"
            type="button">
            Reverse order
          </button>
          <div class="navbar-right">
            <p class="navbar-text help">Click headings to expand/collapse document lists</p>
            <button id="bib_collapse_all" type="button" class="btn btn-default navbar-btn">Collapse all</button>
            <button id="bib_expand_all" type="button" class="btn btn-default navbar-btn">Expand all</button>
          </div>
        </div>
      </div>
    </nav>
    <div id="bib_main">
    </div>
  </div>

  <div id="words_view" class="hidden">
    <h2>All words prominent in any topic</h2>
    <p class="help">Words not prominent in any topic are not listed</p>
    <ul id="vocab_list" class="list-unstyled"></ul>
  </div>

</div> <!-- /container -->

<script type="text/javascript" src="lib/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="lib/bootstrap.min.js"></script>
<script type="text/javascript" src="lib/jszip.js"></script>
<script type="text/javascript" src="lib/jszip-load.js"></script>
<script type="text/javascript" src="lib/jszip-inflate.js"></script>

<!-- __DATA__ -->

<script type="text/javascript" src="js/dfb.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/model.js"></script>
<script type="text/javascript" src="js/index.js"></script>

</body>

</html>

